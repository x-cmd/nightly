# Author:       Li Junhao           l@x-cmd.com     # xrc
# shellcheck    shell=sh

xrc:mod:lib     ws      hook util default/_ exec execfile

# x ws env set

# install: all packages

: <<A
x env python=3.9 java=17-openjdk -- java -jar abc
x env python=3.9 java=18-openjdk

x env scope :abc python=3.9 java=17-openjdk
java -jar abc
x env scope :abc recover

(
    x env python=3.9 java=17-openjdk
    java -jar abc
)

x env python=3.9    java=17-openjdk
x env python=-      java=

x env activate
x env deactivate

x env use python
x env esu python

# xws

xws var + a b c
xws var -
A

___x_cmd_ws(){
    case "$1" in
        "")                 ___x_cmd_ws_help            ;;                 # default behavior

        exec)       shift;  ___x_cmd_ws_exec "$@"       ;;
        execfile)   shift;  ___x_cmd_ws_execfile "$@"   ;;

        *)                  ___x_cmd_ws_exec "$@"       ;;
    esac
}

xrc setmain ___x_cmd_ws
