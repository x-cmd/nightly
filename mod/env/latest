# Author:       Li Junhao           l@x-cmd.com     # xrc
# shellcheck    shell=sh            disable=SC3043,SC2164,SC3000-SC4000
# License:      GPLv3
xrc param/latest
xrc:mod:lib env     util config main advise ls
x log init env

___x_cmd_env() {
    param:scope     "env"
    param:dsl <<A
subcommands:
    ls                      "list all installed environments"
    try                     "Set environment version in this shell session"
    use                     "Set global environment version"

    exec                    "Run an executable with the selected candidates version"
A
# which                   "Display path of environment installed"
# current                 "Show current environment"
# uninstall               "Remove environment"
# install                 "Install environment"
# download                "Download environment"
    param:run

    # TODO: la---"list all available environments"
    # TODO: ws---"Set workspace environment"

    if [ "${1}" = "___x_cmd_ui_catsel" ]; then
        shift
        ___x_cmd_env_ui_catsel "$@"
        return
    fi

    if [ -z "$PARAM_SUBCMD" ]; then
        ___x_cmd_env help
        return 1
    fi

    "___x_cmd_env_$PARAM_SUBCMD" "$@"
}






xrc setmain ___x_cmd_env
