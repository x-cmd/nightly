. ./lib/select
# xrc ui/lib/select
___x_cmd_ui_select_control_awk(){
    LC_ALL=en_US.UTF-8 command awk \
        -v EXIT_OP="$EXIT_OP" \
        -v RS="$___X_CMD_UI_REGION_RS" -v ORS="$___X_CMD_UI_REGION_RS" \
        -v ITEM_INDEX_STATE="$___X_CMD_UI_SELECT_DISPLAY_ITEM_INDEX" \
        -v SELECT_MULTIPLE_STATE="$___X_CMD_UI_SELECT_MULTIPLE_STATE" \
        -v SELECT_HELP_STATE="$___X_CMD_UI_SELECT_HELP_STATE" \
        -f "$___X_CMD_ROOT/awk/lib/default.awk" \
        -f "$___X_CMD_ROOT/awk/lib/str.awk" \
        -f "$___X_CMD_ROOT/awk/lib/wcwidth.awk" \
        -f "$___X_CMD_ROOT/awk/lib/ui.awk" \
        -f "$___X_CMD_ROOT/ui/lib/share.awk" \
        -f "../ui/lib/select.awk" \
        -f "./lib/theme.awk"
}

f(){

    cmd=f2
    eval "$($cmd)"

    echo "___X_CMD_UI_SELECT_FINAL_COMMAND:" "$___X_CMD_UI_SELECT_FINAL_COMMAND"
    echo "___X_CMD_UI_SELECT_CURRENT_ITEM_INDEX:" "$___X_CMD_UI_SELECT_CURRENT_ITEM_INDEX"
    echo "___X_CMD_UI_SELECT_CURENT_ITEM:" "$___X_CMD_UI_SELECT_CURRENT_ITEM"
}

f1(){
     ___x_cmd_ui_select num \
    "Please select the app you want to install:" \
    "Install docker" \
    "Install k8s" \
    "Install minikube" \
    "Install jvm" \
    "Install nvm" \
    "---" \
    "It's the 1 app descriptor." \
    "It's the 2 app descriptor." \
    "" \
    "" \
    "It's the 5 app descriptor." \
    "---"
}

f2(){
    cat "./.x-cmd/dev/testcase/testlargedata" | awk 'BEGIN{
        print "___x_cmd_ui_select" " multiple" " \\"
    }
    {
        ret= ret " \\" "\n" "\"" $0 "\""
    }
    END{
        print substr(ret, 4)
    }'
    # cat "./.x-cmd/dev/testcase/testdata" | awk -v REGION_RS="$___X_CMD_UI_REGION_RS" '{printf $0 REGION_RS}'
}
f3(){
    ___x_cmd_ui_select nohelp "Are you sure you want to delete repo $*" "yes" "no" "---" "---"
    echo "___X_CMD_UI_SELECT_FINAL_COMMAND:" "$___X_CMD_UI_SELECT_FINAL_COMMAND"
    echo "___X_CMD_UI_SELECT_CURRENT_ITEM_INDEX:" "$___X_CMD_UI_SELECT_CURRENT_ITEM_INDEX"
    echo "___X_CMD_UI_SELECT_CURRENT_ITEM:" "$___X_CMD_UI_SELECT_CURRENT_ITEM"
}
f
